<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/calc.css">
    <title>Calculation</title>
</head>

<body>
    <main>
        <form action="#">
            <div class="left-block">
                <select class="type">
                    <option value="Пополняемый">Пополняемый</option>
                    <option value="Срочный">Срочный</option>
                </select>
                <select class="percentOne">
                    <option value="firstSix">6 месяцев - 20%</option>
                    <option value="firstYear">1 год - 22%</option>
                    <option value="firstSixYearHalf">1,5 года - 15%</option>
                    <option value="firstSixYearTwo">2 года - 10%</option>
                </select>

                <select class="percentTwo">
                    <option value="secondThree">3 месяца - 20%</option>
                    <option value="secondSix">6 месяцев - 22%</option>
                    <option value="secondYear">1 год - 24%</option>
                    <option value="secondYearHalf">1,5 года - 18%</option>
                    <option value="secondYearTwo">2 года - 15%</option>
                </select>

                <input type="number" class="sum" placeholder="Сумма руб.">
                <button class="btn" value="Рассчитать">Рассчитать</button>
            </div>
            <div class="right-block">
                <div class="output">
                    <div class="out-text">
                        <p class="you-dates"></p>
                        <p class="out-dates"></p>
                    </div>
                </div>
            </div>
        </form>
    </main>
    <script>
        function getValue() {
            let select = document.querySelector('.type');
            let value = select.value;
            // Первый селект    
            let selectPercent = document.querySelector('.percentOne');
            let valueSelectPercent = selectPercent.value;
            // Второй селект
            let selectPercent2 = document.querySelector('.percentTwo');
            let valueSelectPercent2 = selectPercent2.value;

            // alert(value);
            if (value == 'Пополняемый') {
                // alert(valueSelectPercent);
            } else {
                let needOne = document.querySelector('.percentOne');
                needOne.style = 'display: none;';
                let needTwo = document.querySelector('.percentTwo');
                needTwo.style = 'display: block;'
                // alert(valueSelectPercent2);
            }

            let input = document.querySelector('.sum');
            // alert(input.value);
            let result = 0;


            if (valueSelectPercent == 'firstSix' || valueSelectPercent2 == 'secondThree') {
                result = parseInt(input.value * 0.2) + parseInt(input.value);
                // alert(result);
            } else if (valueSelectPercent == 'firstYear' || valueSelectPercent2 == 'secondSix') {
                result = parseInt(input.value * 0.22) + parseInt(input.value);
                // alert(result);
            } else if (valueSelectPercent == 'firstSixYearHalf' || valueSelectPercent2 == 'secondYearTwo') {
                result = parseInt(input.value * 0.15) + parseInt(input.value);
                // alert(result);
            } else if (valueSelectPercent == 'firstSixYearTwo') {
                result = parseInt(input.value * 0.1) + parseInt(input.value);
                // alert(result);
            } else if (valueSelectPercent == 'secondYear') {
                result = parseInt(input.value * 0.24) + parseInt(input.value);
                // alert(result);
            } else if (valueSelectPercent == 'secondYearHalf') {
                result = parseInt(input.value * 0.18) + parseInt(input.value);
                // alert(result);
            }

            // Табличка справа
            let youDates = document.querySelector('.you-dates');
            // let outDates = document.querySelector('.out-dates');
            youDates.innerHTML = 'Вы выбрали вклад: ' + value;

            let outDates = document.querySelector('.out-dates');
            outDates.innerHTML = 'В конце срока вы получите сумму: ' + result + ' рублей';
        }
        function getSelect() {

        }
        document.querySelector('.btn').addEventListener('click', function () {
            getValue();
        })
    </script>
</body>

</html>